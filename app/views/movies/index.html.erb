<h1><%= pluralize(@movies.size, 'Movie') %></h1>

<% @movies.each do |movie| %>
  <article class="movie">
    <header>
      <%= image_for(movie) %>
      <h2><%= link_to(movie.title, movie) %></h2>
    </header>
    <p>
      <%= truncate(movie.description, length: 40, separator: ' ') %>
    </p>
    <table>
      <tr>
        <th style="text-align: right">Cast:</th>
        <td><%= movie.cast.join(", ") %></td>
      </tr>
      <tr>
        <th style="text-align: right">Released:</th>
        <td><%= movie.released_on.to_s(:release_date) %>
          (<%= time_ago_in_words(movie.released_on) %> ago)</td>
      </tr>
      <tr>
        <th style="text-align: right">Rating:</th>
        <td><%= movie.rating %></td>
      </tr>
      <tr>
        <th style="text-align: right">Total Gross:</th>
        <td><%= format_total_gross(movie) %></td>
      </tr>
      <tr>
        <th style="text-align: right">Duration:</th>
        <td><%= movie.duration %> min</td>
      </tr>
    </table>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br> <!-- need all these br to push the vertical space down so that the next movie img will be pulled to the right on the next vertical space  -->
  </article>
<% end %>